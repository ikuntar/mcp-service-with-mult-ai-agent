# ä¼šè¯å¯¹è±¡ vs æ™ºèƒ½ä½“å¯¹è±¡ å…³ç³»åˆ†æ

## ğŸ“Š æ ¸å¿ƒå¯¹æ¯”

| ç‰¹æ€§ | ä¼šè¯å¯¹è±¡ (Session) | æ™ºèƒ½ä½“å¯¹è±¡ (Agent) |
|------|-------------------|-------------------|
| **æ ¸å¿ƒèŒè´£** | å¯¹è¯æµç¨‹ç®¡ç†ã€å·¥å…·è°ƒç”¨ã€çŠ¶æ€è·Ÿè¸ª | ä»»åŠ¡æ‰§è¡Œã€æ€è€ƒ-è¡ŒåŠ¨å¾ªç¯ã€å­¦ä¹ è®°å¿† |
| **äº¤äº’æ–¹å¼** | æ¶ˆæ¯é©±åŠ¨ï¼ˆå‘é€/æ¥æ”¶æ¶ˆæ¯ï¼‰ | ä»»åŠ¡é©±åŠ¨ï¼ˆæ‰§è¡Œä»»åŠ¡ï¼‰ |
| **å·¥å…·é›†æˆ** | âœ… ç›´æ¥æ”¯æŒMCPå·¥å…·è°ƒç”¨ | âš ï¸ éœ€è¦æ‰‹åŠ¨é›†æˆå·¥å…· |
| **çŠ¶æ€ç®¡ç†** | ä¼šè¯çŠ¶æ€ï¼ˆè¿è¡Œ/æš‚åœ/å–æ¶ˆï¼‰ | AgentçŠ¶æ€ï¼ˆè§„åˆ’/æ‰§è¡Œ/å­¦ä¹ ï¼‰ |
| **è®°å¿†ç³»ç»Ÿ** | å†å²æ¶ˆæ¯è®°å½• | é•¿æœŸè®°å¿†å­˜å‚¨ |
| **é€‚ç”¨åœºæ™¯** | å®æ—¶å¯¹è¯ã€å·¥å…·è°ƒç”¨ | å¤æ‚ä»»åŠ¡æ‰§è¡Œã€è‡ªä¸»å†³ç­– |

## ğŸ—ï¸ æ¶æ„å…³ç³»

### 1. ç»§æ‰¿å…³ç³»

```
BaseSession (æŠ½è±¡åŸºç±»)
â”œâ”€â”€ ChatSession (èŠå¤©ä¼šè¯)
â”œâ”€â”€ TemplateSession (æ¨¡æ¿ä¼šè¯)
â””â”€â”€ MCPSession (MCPä¼šè¯) â† æˆ‘ä»¬æ–°å¢çš„

AgentCore (åŸºç¡€æ™ºèƒ½ä½“)
â”œâ”€â”€ AgentCore (MVPç‰ˆæœ¬)
â”œâ”€â”€ FunctionalAgent (åŠŸèƒ½æ€§æ™ºèƒ½ä½“)
â””â”€â”€ AdvancedAgent (é«˜çº§æ™ºèƒ½ä½“)
```

### 2. åŠŸèƒ½å¯¹æ¯”

#### **ä¼šè¯å¯¹è±¡ (MCPSession)**
```typescript
// ä¸“æ³¨äºï¼šå¯¹è¯ + å·¥å…·è°ƒç”¨
const session = createMCPSession('id', {
  mcpEndpoint: 'http://localhost:3000/mcp',
  tools: [tool1, tool2]
});

await session.start();
await session.sendMessage('@calculate(expression=100+200)'); // âœ… è‡ªåŠ¨è°ƒç”¨å·¥å…·
await session.sendMessage('æ™®é€šå¯¹è¯'); // âœ… æ™®é€šå¯¹è¯
```

**æ ¸å¿ƒèƒ½åŠ›ï¼š**
- âœ… å·¥å…·è°ƒç”¨è§£æï¼ˆ@toolNameæ ¼å¼ï¼‰
- âœ… å®æ—¶äº‹ä»¶ç›‘æ§ï¼ˆtool-call, tool-resultï¼‰
- âœ… ä¸Šä¸‹æ–‡ç®¡ç†ï¼ˆè®¾ç½®/è·å–/æ¸…ç©ºï¼‰
- âœ… å†å²è®°å½•ï¼ˆå¯¼å‡º/å¯¼å…¥/æ’¤é”€ï¼‰
- âœ… æ¶ˆæ¯æ“ä½œï¼ˆä¿®æ”¹/é‡ç½®/é‡è¯•ï¼‰

#### **æ™ºèƒ½ä½“å¯¹è±¡ (AdvancedAgent)**
```typescript
// ä¸“æ³¨äºï¼šä»»åŠ¡æ‰§è¡Œ + æ€è€ƒå¾ªç¯
const agent = new AdvancedAgent({
  id: 'agent1',
  name: 'åŠ©æ‰‹',
  modelId: 'advanced-mock',
  tools: [tool1, tool2]
});

await agent.execute({
  id: 'task1',
  input: 'åˆ†ææ•°æ®å¹¶ç”ŸæˆæŠ¥å‘Š'
});
```

**æ ¸å¿ƒèƒ½åŠ›ï¼š**
- âœ… æ€è€ƒ-è¡ŒåŠ¨å¾ªç¯ï¼ˆthink â†’ actï¼‰
- âœ… å·¥å…·è°ƒç”¨ï¼ˆé€šè¿‡æ¨¡å‹æ¥å£ï¼‰
- âœ… é•¿æœŸè®°å¿†ï¼ˆSimpleMemoryï¼‰
- âœ… çŠ¶æ€è½¬æ¢ï¼ˆinitialized â†’ idle â†’ planning â†’ executingï¼‰
- âœ… é‡è¯•æœºåˆ¶ï¼ˆæŒ‡æ•°é€€é¿ï¼‰

## ğŸ”— å…³ç³»æ¨¡å¼

### æ¨¡å¼1: ç‹¬ç«‹ä½¿ç”¨
```
MCPSession â†’ ç‹¬ç«‹å¤„ç†å¯¹è¯å’Œå·¥å…·è°ƒç”¨
Agent â†’ ç‹¬ç«‹æ‰§è¡Œå¤æ‚ä»»åŠ¡
```

### æ¨¡å¼2: ç»„åˆä½¿ç”¨
```
MCPSession (ä½œä¸ºAgentçš„å·¥å…·æ¥å£)
    â†“
AdvancedAgent (è°ƒç”¨Sessionè¿›è¡Œå¯¹è¯)
    â†“
ä»»åŠ¡æ‰§è¡Œ
```

### æ¨¡å¼3: äº’è¡¥ä½¿ç”¨
```
ç”¨æˆ·è¾“å…¥
    â†“
MCPSession (è§£æå·¥å…·è°ƒç”¨)
    â†“
Agent (æ€è€ƒå†³ç­–)
    â†“
MCPSession (æ‰§è¡Œå·¥å…·è°ƒç”¨)
    â†“
è¿”å›ç»“æœ
```

## ğŸ¯ ä½¿ç”¨åœºæ™¯å¯¹æ¯”

### åœºæ™¯1: å®æ—¶èŠå¤© + å·¥å…·è°ƒç”¨
**æ¨èï¼šMCPSession**
```typescript
// ç”¨æˆ·è¾“å…¥: "@calculate(expression=100+200)"
// è‡ªåŠ¨è§£æ â†’ å·¥å…·è°ƒç”¨ â†’ è¿”å›ç»“æœ
```

### åœºæ™¯2: å¤æ‚ä»»åŠ¡æ‰§è¡Œ
**æ¨èï¼šAdvancedAgent**
```typescript
// ç”¨æˆ·è¾“å…¥: "åˆ†æé”€å”®æ•°æ®å¹¶ç”ŸæˆæŠ¥å‘Š"
// æ€è€ƒ â†’ è§„åˆ’ â†’ æ‰§è¡Œ â†’ å­¦ä¹  â†’ è¿”å›ç»“æœ
```

### åœºæ™¯3: éœ€è¦ä¸¤è€…ç»“åˆ
**æ¨èï¼šç»„åˆä½¿ç”¨**
```typescript
// Agentè´Ÿè´£æ€è€ƒå†³ç­–ï¼ŒSessionè´Ÿè´£å·¥å…·æ‰§è¡Œ
const session = createMCPSession('tools', config);
const agent = new AdvancedAgent({ tools: session.getTools() });

// Agentå†³å®šè°ƒç”¨å“ªä¸ªå·¥å…·ï¼ŒSessionæ‰§è¡Œå…·ä½“è°ƒç”¨
```

## ğŸ“‹ è¯¦ç»†åŠŸèƒ½å¯¹æ¯”

### å·¥å…·è°ƒç”¨

| åŠŸèƒ½ | MCPSession | AdvancedAgent |
|------|------------|---------------|
| **è°ƒç”¨æ ¼å¼** | `@toolName(param=value)` | é€šè¿‡æ¨¡å‹æ¥å£ |
| **å‚æ•°è§£æ** | âœ… è‡ªåŠ¨è§£æ | âš ï¸ éœ€è¦æ¨¡å‹æ”¯æŒ |
| **å®æ—¶åé¦ˆ** | âœ… tool-call/tool-result | âš ï¸ éœ€è¦æ‰‹åŠ¨å®ç° |
| **é”™è¯¯å¤„ç†** | âœ… éªŒè¯+é”™è¯¯äº‹ä»¶ | âš ï¸ éœ€è¦æ‰‹åŠ¨å¤„ç† |

### çŠ¶æ€ç®¡ç†

| åŠŸèƒ½ | MCPSession | AdvancedAgent |
|------|------------|---------------|
| **çŠ¶æ€ç±»å‹** | running/paused/cancelled | initialized/idle/planning/executing |
| **çŠ¶æ€è½¬æ¢** | start/pause/cancel | think/act/transition |
| **äº‹ä»¶ç³»ç»Ÿ** | âœ… å®Œæ•´äº‹ä»¶æµ | âš ï¸ æœ‰é™äº‹ä»¶ |

### è®°å¿†ç³»ç»Ÿ

| åŠŸèƒ½ | MCPSession | AdvancedAgent |
|------|------------|---------------|
| **è®°å¿†å†…å®¹** | æ¶ˆæ¯å†å² | ä»»åŠ¡/æ€è€ƒ/ç»éªŒ |
| **æŒä¹…åŒ–** | å¯¼å‡º/å¯¼å…¥ | SimpleMemory |
| **æ£€ç´¢** | æŒ‰æ—¶é—´/ç±»å‹ | æŒ‰ç›¸å…³æ€§ |

## ğŸ’¡ é€‰æ‹©å»ºè®®

### ä½¿ç”¨ MCPSession å½“ï¼š
- âœ… éœ€è¦å®æ—¶å¯¹è¯äº¤äº’
- âœ… éœ€è¦ç›´æ¥å·¥å…·è°ƒç”¨
- âœ… éœ€è¦äº‹ä»¶ç›‘æ§
- âœ… éœ€è¦å†å²ç®¡ç†
- âœ… éœ€è¦ä¸Šä¸‹æ–‡æ§åˆ¶

### ä½¿ç”¨ Agent å½“ï¼š
- âœ… éœ€è¦å¤æ‚ä»»åŠ¡æ‰§è¡Œ
- âœ… éœ€è¦è‡ªä¸»æ€è€ƒå†³ç­–
- âœ… éœ€è¦é•¿æœŸå­¦ä¹ è®°å¿†
- âœ… éœ€è¦çŠ¶æ€ç®¡ç†
- âœ… éœ€è¦é‡è¯•æœºåˆ¶

### åŒæ—¶ä½¿ç”¨å½“ï¼š
- âœ… éœ€è¦å¯¹è¯å¼ä»»åŠ¡æ‰§è¡Œ
- âœ… éœ€è¦å·¥å…·+æ€è€ƒç»“åˆ
- âœ… éœ€è¦å®Œæ•´çš„AIç³»ç»Ÿ

## ğŸš€ å®é™…åº”ç”¨ç¤ºä¾‹

### ç¤ºä¾‹1: ç®€å•å·¥å…·åŠ©æ‰‹
```typescript
// åªç”¨MCPSession
const session = createMCPSession('assistant', {
  mcpEndpoint: 'http://localhost:3000/mcp',
  tools: [calculator, fileReader]
});

await session.start();
await session.sendMessage('å¸®æˆ‘è®¡ç®—100+200');
```

### ç¤ºä¾‹2: å¤æ‚ä»»åŠ¡æ‰§è¡Œå™¨
```typescript
// åªç”¨AdvancedAgent
const agent = new AdvancedAgent({
  id: 'analyst',
  name: 'æ•°æ®åˆ†æå¸ˆ',
  modelId: 'advanced-mock',
  tools: [dataAnalyzer, reportGenerator]
});

await agent.execute({
  id: 'task1',
  input: 'åˆ†æQ4é”€å”®æ•°æ®å¹¶ç”ŸæˆæŠ¥å‘Š'
});
```

### ç¤ºä¾‹3: æ™ºèƒ½å¯¹è¯åŠ©æ‰‹
```typescript
// ç»„åˆä½¿ç”¨
const session = createMCPSession('tools', {
  mcpEndpoint: 'http://localhost:3000/mcp',
  tools: [calculator, searcher, writer]
});

const agent = new AdvancedAgent({
  id: 'assistant',
  name: 'æ™ºèƒ½åŠ©æ‰‹',
  modelId: 'advanced-mock',
  tools: session.getTools()
});

// Agentå†³å®šä½¿ç”¨å“ªä¸ªå·¥å…·ï¼ŒSessionæ‰§è¡Œè°ƒç”¨
const task = 'è®¡ç®—100*200å¹¶å†™å…¥æ–‡ä»¶';
const result = await agent.execute({ id: 'task1', input: task });
```

## ğŸ¯ æ€»ç»“

### æ ¸å¿ƒåŒºåˆ«
- **MCPSession**: **å¯¹è¯ä¸­å¿ƒ** - ä¸“æ³¨äºæ¶ˆæ¯æµå’Œå·¥å…·è°ƒç”¨
- **Agent**: **ä»»åŠ¡ä¸­å¿ƒ** - ä¸“æ³¨äºä»»åŠ¡æ‰§è¡Œå’Œæ€è€ƒå¾ªç¯

### å…³ç³»æœ¬è´¨
- **ä¸æ˜¯ç»§æ‰¿å…³ç³»** - ä¸¤è€…æ˜¯ä¸åŒæŠ½è±¡å±‚æ¬¡çš„ç»„ä»¶
- **å¯ä»¥ç»„åˆä½¿ç”¨** - Sessionå¯ä»¥ä½œä¸ºAgentçš„å·¥å…·æ¥å£
- **äº’è¡¥è€Œéæ›¿ä»£** - å„è‡ªè§£å†³ä¸åŒé—®é¢˜

### é€‰æ‹©åŸåˆ™
- **ç®€å•å·¥å…·è°ƒç”¨** â†’ MCPSession
- **å¤æ‚ä»»åŠ¡æ‰§è¡Œ** â†’ Agent
- **å¯¹è¯å¼ä»»åŠ¡** â†’ ä¸¤è€…ç»“åˆ

### æœ€ä½³å®è·µ
```typescript
// ğŸ¯ æ¨èï¼šæ ¹æ®åœºæ™¯é€‰æ‹©
// å¯¹è¯åœºæ™¯ â†’ MCPSession
// ä»»åŠ¡åœºæ™¯ â†’ Agent
// æ™ºèƒ½åŠ©æ‰‹ â†’ ç»„åˆä½¿ç”¨
```

---

**ç»“è®º**: ä¼šè¯å¯¹è±¡å’Œæ™ºèƒ½ä½“å¯¹è±¡æ˜¯**äº’è¡¥çš„ç»„ä»¶**ï¼Œåˆ†åˆ«è§£å†³**å¯¹è¯æµç®¡ç†**å’Œ**ä»»åŠ¡æ‰§è¡Œ**çš„ä¸åŒé—®é¢˜ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œå¯ä»¥æ ¹æ®éœ€æ±‚é€‰æ‹©ä½¿ç”¨å…¶ä¸­ä¸€ä¸ªæˆ–ç»„åˆä½¿ç”¨ã€‚